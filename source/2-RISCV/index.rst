================================================================================
RISC-V ISA Manual
================================================================================

#. `初识 RISC-V <https://www.cnblogs.com/wahahahehehe/p/15574316.html>`_
#. `risc-v 架构学习笔记（架构初学） <https://blog.csdn.net/qq_42878531/article/details/124755865>`_
#. `RISC-V 基础指令集概述 <https://www.sunnychen.top/archives/riscvbasic>`_

[RISC-V] 寄存器
================================================================================

通用寄存器列表

.. table::
   :width: 100%

   +------------+---------+--------+----------+------------------------------------------+
   | 寄存器名称 | ABI名称 | 所属组 | 所属对象 | 说明                                     |
   +============+=========+========+==========+==========================================+
   | x0         | zero    |        | N/A      | 硬件连接至 0 ，只能读，写无效            |
   +------------+---------+--------+----------+------------------------------------------+
   | x1         | ra      |        | Caller   | 程序返回地址                             |
   +------------+---------+--------+----------+------------------------------------------+
   | x2         | sp      |        | Caller   | 栈空间指针                               |
   +------------+---------+--------+----------+------------------------------------------+
   | x3         | gp      |        | N/A      | 全局变量指针（基地址）                   |
   +------------+---------+--------+----------+------------------------------------------+
   | x4         | tp      |        | N/A      | 线程变量指针（基地址）                   |
   +------------+---------+--------+----------+------------------------------------------+
   | x5         | t0      | t0-t2  | Caller   | 临时寄存器                               |
   +------------+---------+        |          |                                          |
   | x6         | t1      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x7         | t2      |        |          |                                          |
   +------------+---------+--------+----------+------------------------------------------+
   | x8         | s0/fp   | s0-s1  | Callee   | 保存寄存器/帧指针（配合栈指针界定函数栈）|
   +------------+---------+        |          +------------------------------------------+
   | x9         | s1      |        |          | 保存寄存器（被调用函数使用时需备份       |
   |            |         |        |          | 并在退出时恢复）                         |
   +------------+---------+--------+----------+------------------------------------------+
   | x10        | a0      | a0-a7  | Caller   | 函数参数寄存器（用于函数参数/返回值）    |
   +------------+---------+        |          |                                          |
   | x11        | a1      |        |          |                                          |
   +------------+---------+        |          +------------------------------------------+
   | x12        | a2      |        |          | 函数参数寄存器（用于函数参数）           |
   +------------+---------+        |          |                                          |
   | x13        | a3      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x14        | a4      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x15        | a5      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x16        | a6      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x17        | a7      |        |          |                                          |
   +------------+---------+--------+----------+------------------------------------------+
   | x18        | s2      | s2-s11 | Callee   | 保存寄存器（被调用函数使用时需备份       |
   +------------+---------+        |          | 并在退出时恢复）                         |
   | x19        | s3      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x20        | s4      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x21        | s5      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x22        | s6      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x23        | s7      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x24        | s8      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x25        | s9      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x26        | s10     |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x27        | s11     |        |          |                                          |
   +------------+---------+--------+----------+------------------------------------------+
   | x28        | t3      | t3-t6  | Caller   | 临时寄存器                               |
   +------------+---------+        |          |                                          |
   | x29        | t4      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x30        | t5      |        |          |                                          |
   +------------+---------+        |          |                                          |
   | x31        | t6      |        |          |                                          |
   +------------+---------+--------+----------+------------------------------------------+

[RISC-V] 栈
================================================================================

RISCV 中只有一个栈，不存在备份；
因此当从程序进入异常时，使用的栈依然是任务的栈；
如果需要使用其他栈，需要先去获取栈地址，并将其加载到 SP





